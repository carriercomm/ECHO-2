!function(e){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function($){function e(e){var i=e[0];return i.offsetWidth>0&&i.offsetHeight>0}function i(e){if(e.minTime&&(e.minTime=v(e.minTime)),e.maxTime&&(e.maxTime=v(e.maxTime)),e.durationTime&&"function"!=typeof e.durationTime&&(e.durationTime=v(e.durationTime)),"now"==e.scrollDefault)e.scrollDefault=function(){return e.roundingFunction(v(new Date),e)};else if(e.scrollDefault&&"function"!=typeof e.scrollDefault){var i=e.scrollDefault;e.scrollDefault=function(){return e.roundingFunction(v(i),e)}}else e.minTime&&(e.scrollDefault=function(){return e.roundingFunction(e.minTime,e)});if("string"===$.type(e.timeFormat)&&e.timeFormat.match(/[gh]/)&&(e._twelveHourTime=!0),e.showOnFocus===!1&&"focus"==e.showOn&&(e.showOn=null),e.disableTimeRanges.length>0){for(var t in e.disableTimeRanges)e.disableTimeRanges[t]=[v(e.disableTimeRanges[t][0]),v(e.disableTimeRanges[t][1])];e.disableTimeRanges=e.disableTimeRanges.sort(function(e,i){return e[0]-i[0]});for(var t=e.disableTimeRanges.length-1;t>0;t--)e.disableTimeRanges[t][0]<=e.disableTimeRanges[t-1][1]&&(e.disableTimeRanges[t-1]=[Math.min(e.disableTimeRanges[t][0],e.disableTimeRanges[t-1][0]),Math.max(e.disableTimeRanges[t][1],e.disableTimeRanges[t-1][1])],e.disableTimeRanges.splice(t,1))}return e}function t(e){var i=e.data("timepicker-settings"),t=e.data("timepicker-list");if(t&&t.length&&(t.remove(),e.data("timepicker-list",!1)),i.useSelect){t=$("<select />",{"class":"ui-timepicker-select"});var a=t}else{t=$("<ul />",{"class":"ui-timepicker-list"});var a=$("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1});a.css({display:"none",position:"absolute"}).append(t)}if(i.noneOption)if(i.noneOption===!0&&(i.noneOption=i.useSelect?"Time...":"None"),$.isArray(i.noneOption)){for(var s in i.noneOption)if(parseInt(s,10)==s){var c=r(i.noneOption[s],i.useSelect);t.append(c)}}else{var c=r(i.noneOption,i.useSelect);t.append(c)}if(i.className&&a.addClass(i.className),(null!==i.minTime||null!==i.durationTime)&&i.showDuration){var u="function"==typeof i.step?"function":i.step;a.addClass("ui-timepicker-with-duration"),a.addClass("ui-timepicker-step-"+i.step)}var p=i.minTime;"function"==typeof i.durationTime?p=v(i.durationTime()):null!==i.durationTime&&(p=i.durationTime);var d=null!==i.minTime?i.minTime:0,f=null!==i.maxTime?i.maxTime:d+w-1;d>f&&(f+=w),f===w-1&&"string"===$.type(i.timeFormat)&&i.show2400&&(f=w);var T=i.disableTimeRanges,b=0,y=T.length,H=i.step;"function"!=typeof H&&(H=function(){return i.step});for(var s=d,C=0;f>=s;C++,s+=60*H(C)){var D=s,R=k(D,i);if(i.useSelect){var S=$("<option />",{value:R});S.text(R)}else{var S=$("<li />");S.data("time",86400>=D?D:D%86400),S.text(R)}if((null!==i.minTime||null!==i.durationTime)&&i.showDuration){var M=g(s-p,i.step);if(i.useSelect)S.text(S.text()+" ("+M+")");else{var O=$("<span />",{"class":"ui-timepicker-duration"});O.text(" ("+M+")"),S.append(O)}}y>b&&(D>=T[b][1]&&(b+=1),T[b]&&D>=T[b][0]&&D<T[b][1]&&(i.useSelect?S.prop("disabled",!0):S.addClass("ui-timepicker-disabled"))),t.append(S)}if(a.data("timepicker-input",e),e.data("timepicker-list",a),i.useSelect)e.val()&&t.val(n(v(e.val()),i)),t.on("focus",function(){$(this).data("timepicker-input").trigger("showTimepicker")}),t.on("blur",function(){$(this).data("timepicker-input").trigger("hideTimepicker")}),t.on("change",function(){m(e,$(this).val(),"select")}),m(e,t.val(),"initial"),e.hide().after(t);else{var F=i.appendTo;"string"==typeof F?F=$(F):"function"==typeof F&&(F=F(e)),F.append(a),l(e,t),t.on("mousedown","li",function(i){e.off("focus.timepicker"),e.on("focus.timepicker-ie-hack",function(){e.off("focus.timepicker-ie-hack"),e.on("focus.timepicker",x.show)}),o(e)||e[0].focus(),t.find("li").removeClass("ui-timepicker-selected"),$(this).addClass("ui-timepicker-selected"),h(e)&&(e.trigger("hideTimepicker"),t.on("mouseup.timepicker","li",function(e){t.off("mouseup.timepicker"),a.hide()}))})}}function r(e,i){var t,r,n;return"object"==typeof e?(t=e.label,r=e.className,n=e.value):"string"==typeof e?t=e:$.error("Invalid noneOption value"),i?$("<option />",{value:n,"class":r,text:t}):$("<li />",{"class":r,text:t}).data("time",n)}function n(e,i){return e=i.roundingFunction(e,i),null!==e?k(e,i):void 0}function a(){return new Date(1970,1,1,0,0,0)}function s(e){var i=$(e.target),t=i.closest(".ui-timepicker-input");0===t.length&&0===i.closest(".ui-timepicker-wrapper").length&&(x.hide(),$(document).unbind(".ui-timepicker"),$(window).unbind(".ui-timepicker"))}function o(e){var i=e.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&i.disableTouchKeyboard}function c(e,i,t){if(!t&&0!==t)return!1;var r=e.data("timepicker-settings"),n=!1,t=r.roundingFunction(t,r);return i.find("li").each(function(e,i){var r=$(i);if("number"==typeof r.data("time"))return r.data("time")==t?(n=r,!1):void 0}),n}function l(e,i){i.find("li").removeClass("ui-timepicker-selected");var t=v(p(e),e.data("timepicker-settings"));if(null!==t){var r=c(e,i,t);if(r){var n=r.offset().top-i.offset().top;(n+r.outerHeight()>i.outerHeight()||0>n)&&i.scrollTop(i.scrollTop()+r.position().top-r.outerHeight()),r.addClass("ui-timepicker-selected")}}}function u(e,i){if(""!==this.value&&"timepicker"!=i){var t=$(this);if(!t.is(":focus")||e&&"change"==e.type){var r=t.data("timepicker-settings"),n=v(this.value,r);if(null===n)return void t.trigger("timeFormatError");var a=!1;null!==r.minTime&&n<r.minTime?a=!0:null!==r.maxTime&&n>r.maxTime&&(a=!0),$.each(r.disableTimeRanges,function(){return n>=this[0]&&n<this[1]?(a=!0,!1):void 0}),r.forceRoundTime&&(n=r.roundingFunction(n,r));var s=k(n,r);a?m(t,s,"error")&&t.trigger("timeRangeError"):m(t,s)}}}function p(e){return e.is("input")?e.val():e.data("ui-timepicker-value")}function m(e,i,t){if(e.is("input")){e.val(i);var r=e.data("timepicker-settings");r.useSelect&&"select"!=t&&"initial"!=t&&e.data("timepicker-list").val(n(v(i),r))}return e.data("ui-timepicker-value")!=i?(e.data("ui-timepicker-value",i),"select"==t?e.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):"error"!=t&&e.trigger("changeTime"),!0):(e.trigger("selectTime"),!1)}function d(i){var t=$(this),r=t.data("timepicker-list");if(!r||!e(r)){if(40!=i.keyCode)return!0;x.show.call(t.get(0)),r=t.data("timepicker-list"),o(t)||t.focus()}switch(i.keyCode){case 13:return h(t)&&x.hide.apply(this),i.preventDefault(),!1;case 38:var n=r.find(".ui-timepicker-selected");return n.length?n.is(":first-child")||(n.removeClass("ui-timepicker-selected"),n.prev().addClass("ui-timepicker-selected"),n.prev().position().top<n.outerHeight()&&r.scrollTop(r.scrollTop()-n.outerHeight())):(r.find("li").each(function(e,i){return $(i).position().top>0?(n=$(i),!1):void 0}),n.addClass("ui-timepicker-selected")),!1;case 40:return n=r.find(".ui-timepicker-selected"),0===n.length?(r.find("li").each(function(e,i){return $(i).position().top>0?(n=$(i),!1):void 0}),n.addClass("ui-timepicker-selected")):n.is(":last-child")||(n.removeClass("ui-timepicker-selected"),n.next().addClass("ui-timepicker-selected"),n.next().position().top+2*n.outerHeight()>r.outerHeight()&&r.scrollTop(r.scrollTop()+n.outerHeight())),!1;case 27:r.find("li").removeClass("ui-timepicker-selected"),x.hide();break;case 9:x.hide();break;default:return!0}}function f(i){var t=$(this),r=t.data("timepicker-list"),n=t.data("timepicker-settings");if(!r||!e(r)||n.disableTextInput)return!0;switch(i.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:n.typeaheadHighlight?l(t,r):r.hide()}}function h(e){var i=e.data("timepicker-settings"),t=e.data("timepicker-list"),r=null,n=t.find(".ui-timepicker-selected");return n.hasClass("ui-timepicker-disabled")?!1:(n.length&&(r=n.data("time")),null!==r&&("string"!=typeof r&&(r=k(r,i)),m(e,r,"select")),!0)}function g(e,i){e=Math.abs(e);var t=Math.round(e/60),r=[],n,a;return 60>t?r=[t,y.mins]:(n=Math.floor(t/60),a=t%60,30==i&&30==a&&(n+=y.decimal+5),r.push(n),r.push(1==n?y.hr:y.hrs),30!=i&&a&&(r.push(a),r.push(y.mins))),r.join(" ")}function k(e,i){if(null===e)return null;var t=new Date(b.valueOf()+1e3*e);if(isNaN(t.getTime()))return null;if("function"===$.type(i.timeFormat))return i.timeFormat(t);for(var r="",n,a,s=0;s<i.timeFormat.length;s++)switch(a=i.timeFormat.charAt(s)){case"a":r+=t.getHours()>11?y.pm:y.am;break;case"A":r+=t.getHours()>11?y.PM:y.AM;break;case"g":n=t.getHours()%12,r+=0===n?"12":n;break;case"G":n=t.getHours(),e===w&&(n=24),r+=n;break;case"h":n=t.getHours()%12,0!==n&&10>n&&(n="0"+n),r+=0===n?"12":n;break;case"H":n=t.getHours(),e===w&&(n=24),r+=n>9?n:"0"+n;break;case"i":var o=t.getMinutes();r+=o>9?o:"0"+o;break;case"s":e=t.getSeconds(),r+=e>9?e:"0"+e;break;case"\\":s++,r+=i.timeFormat.charAt(s);break;default:r+=a}return r}function v(e,i){if(""===e)return null;if(!e||e+0==e)return e;if("object"==typeof e)return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds();e=e.toLowerCase().replace(/[\s\.]/g,""),("a"==e.slice(-1)||"p"==e.slice(-1))&&(e+="m");var t="("+y.am.replace(".","")+"|"+y.pm.replace(".","")+"|"+y.AM.replace(".","")+"|"+y.PM.replace(".","")+")?",r=new RegExp("^"+t+"([0-2]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+t+"$"),n=e.match(r);if(!n)return null;var a=parseInt(1*n[2],10),s=n[1]||n[5],o=a;if(12>=a&&s){var c=s==y.pm||s==y.PM;o=12==a?c?12:0:a+(c?12:0)}var l=1*n[3]||0,u=1*n[4]||0,p=3600*o+60*l+u;if(!s&&i&&i._twelveHourTime&&i.scrollDefault){var m=p-i.scrollDefault();0>m&&m>=w/-2&&(p=(p+w/2)%w)}return p}function T(e){return("0"+e).slice(-2)}var b=a(),w=86400,y={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},x={init:function(e){return this.each(function(){var r=$(this),n=[];for(var a in $.fn.timepicker.defaults)r.data(a)&&(n[a]=r.data(a));var s=$.extend({},$.fn.timepicker.defaults,n,e);s.lang&&(y=$.extend(y,s.lang)),s=i(s),r.data("timepicker-settings",s),r.addClass("ui-timepicker-input"),s.useSelect?t(r):(r.prop("autocomplete","off"),r.on("click.timepicker focus.timepicker",x.show),r.on("change.timepicker",u),r.on("keydown.timepicker",d),r.on("keyup.timepicker",f),s.disableTextInput&&r.on("keypress.timepicker",function(e){e.preventDefault()}),u.call(r.get(0)))})},show:function(i){var r=$(this),n=r.data("timepicker-settings");if(i){if(n.showOn!==i.type)return!0;i.preventDefault()}if(n.useSelect)return void r.data("timepicker-list").focus();o(r)&&r.blur();var a=r.data("timepicker-list");if(!r.prop("readonly")&&(a&&0!==a.length&&"function"!=typeof n.durationTime||(t(r),a=r.data("timepicker-list")),!e(a))){r.data("ui-timepicker-value",r.val()),l(r,a),x.hide(),a.show();var u={};n.orientation.match(/r/)?u.left=r.offset().left+r.outerWidth()-a.outerWidth()+parseInt(a.css("marginLeft").replace("px",""),10):u.left=r.offset().left+parseInt(a.css("marginLeft").replace("px",""),10);var m;m=n.orientation.match(/t/)?"t":n.orientation.match(/b/)?"b":r.offset().top+r.outerHeight(!0)+a.outerHeight()>$(window).height()+$(window).scrollTop()?"t":"b","t"==m?(a.addClass("ui-timepicker-positioned-top"),u.top=r.offset().top-a.outerHeight()+parseInt(a.css("marginTop").replace("px",""),10)):(a.removeClass("ui-timepicker-positioned-top"),u.top=r.offset().top+r.outerHeight()+parseInt(a.css("marginTop").replace("px",""),10)),a.offset(u);var d=a.find(".ui-timepicker-selected");if(d.length||(p(r)?d=c(r,a,v(p(r))):n.scrollDefault&&(d=c(r,a,n.scrollDefault()))),d&&d.length){var f=a.scrollTop()+d.position().top-d.outerHeight();a.scrollTop(f)}else a.scrollTop(0);return n.stopScrollPropagation&&$(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(e){e.preventDefault();var i=$(this).scrollTop();$(this).scrollTop(i+e.originalEvent.deltaY)}),$(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",s),$(window).on("resize.ui-timepicker",s),n.closeOnWindowScroll&&$(document).on("scroll.ui-timepicker",s),r.trigger("showTimepicker"),this}},hide:function(i){var t=$(this),r=t.data("timepicker-settings");return r&&r.useSelect&&t.blur(),$(".ui-timepicker-wrapper").each(function(){var i=$(this);if(e(i)){var t=i.data("timepicker-input"),r=t.data("timepicker-settings");r&&r.selectOnBlur&&h(t),i.hide(),t.trigger("hideTimepicker")}}),this},option:function(e,r){return this.each(function(){var n=$(this),a=n.data("timepicker-settings"),s=n.data("timepicker-list");if("object"==typeof e)a=$.extend(a,e);else if("string"==typeof e&&"undefined"!=typeof r)a[e]=r;else if("string"==typeof e)return a[e];a=i(a),n.data("timepicker-settings",a),s&&(s.remove(),n.data("timepicker-list",!1)),a.useSelect&&t(n)})},getSecondsFromMidnight:function(){return v(p(this))},getTime:function(e){var i=this,t=p(i);if(!t)return null;var r=v(t);if(null===r)return null;e||(e=new Date);var n=new Date(e);return n.setHours(r/3600),n.setMinutes(r%3600/60),n.setSeconds(r%60),n.setMilliseconds(0),n},setTime:function(e){var i=this,t=i.data("timepicker-settings");if(t.forceRoundTime)var r=n(v(e),t);else var r=k(v(e),t);return e&&null===r&&t.noneOption&&(r=e),m(i,r),i.data("timepicker-list")&&l(i,i.data("timepicker-list")),this},remove:function(){var e=this;if(e.hasClass("ui-timepicker-input")){var i=e.data("timepicker-settings");return e.removeAttr("autocomplete","off"),e.removeClass("ui-timepicker-input"),e.removeData("timepicker-settings"),e.off(".timepicker"),e.data("timepicker-list")&&e.data("timepicker-list").remove(),i.useSelect&&e.show(),e.removeData("timepicker-list"),this}}};$.fn.timepicker=function(e){return this.length?x[e]?this.hasClass("ui-timepicker-input")?x[e].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof e&&e?void $.error("Method "+e+" does not exist on jQuery.timepicker"):x.init.apply(this,arguments):this},$.fn.timepicker.defaults={className:null,minTime:null,maxTime:null,durationTime:null,step:30,showDuration:!1,showOnFocus:!0,showOn:"focus",timeFormat:"g:ia",scrollDefault:null,selectOnBlur:!1,disableTextInput:!1,disableTouchKeyboard:!1,forceRoundTime:!1,roundingFunction:function(e,i){if(null===e)return null;var t=e%(60*i.step);return t>=30*i.step?e+=60*i.step-t:e-=t,e},appendTo:"body",orientation:"l",disableTimeRanges:[],closeOnWindowScroll:!1,typeaheadHighlight:!0,noneOption:!1,show2400:!1,stopScrollPropagation:!1}}),jQuery(".timepicker").timepicker();